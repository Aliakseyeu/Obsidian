
Для кеширования меню применяется специальный алгоритм, который учитывает тот факт, что большая часть посетителей - это незарегистрированные пользователи. Кеш меню управляемый и обновляется при редактировании меню или изменении прав доступа к файлам и папкам через административный интерфейс и API.

Если на сайте много разделов, то размер кеша компонента bitrix:menu может вызвать падение сайта из-за переполнения места на диске. Так происходит из-за того, что для каждой страницы (каждого уникального URL) компонент генерирует отдельный файл кеша.

Устранить падение можно через ручной параметр компонента CACHE_SELECTED_ITEMS, который не отображается в Эрмитаже. Это приведет к тому, что при создании файла кеша меню в ключе не будет участвовать url (для всех страниц сайта будет единый кеш). А расчет выбранного уровня будет происходить после получения данных из кеша.