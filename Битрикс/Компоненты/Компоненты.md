
Компоненты сгруппированы по пространствам имен в папках **/bitrix/components/** и **/local/components/**. Для системных компонентов - пространство имен **bitrix**. Таким образом, полный путь для них будет: **/bitrix/components/bitrix/техническое название компонента/**.

Компонент состоит из следующих файлов и папок:

1. Главный файл **class.php** — “сердце” компонента, его логика или контроллер. Класс, который обрабатывает данные http-запроса и готовит данные для вывода с помощью шаблона. Основное средство коммуникации с шаблоном - массив **$arResult**.
2. Вместо (или вместе) с файлом **class.php** может существовать **component.php** — устаревший процедурный формат описания компонента.
3. Раздел **templates** — типовые шаблоны компонента. Если вам нужно повлиять на внешний вид или немного скорректировать компонент, то вам подойдет доработка шаблона компонента (также ее называют “кастомизацией”). Но трогать системные шаблоны нельзя — предварительно их нужно скопировать в свое пространство имен (например, в **/local/templates/.default/component/…**).
    - Главный файл для шаблона простого компонента: **template.php**. Используя данные из массива **$arResult**, выводит html-код компонента. В этом файле не следует делать запросы к БД, сессиям и т.п. Лучше всего ограничиться простыми конструкциями языка php: if’ы, циклы и echo для вывода данных.
    - **result_modifier.php** — файл шаблона, в котором разрешено делать дополнительные запросы к БД. Файл подключается в ходе работы компонента непосредственно перед вызовом **template.php**.
    - **component_epilog.php** — файл шаблона, где выполняются особые операции, которые нельзя делать в области кеширования. Подключается после **template.php**.
    - **.parameters.php** — файл с дополнительными настройками этого шаблона.
    - lang-файлы шаблона компонента (файлы локализации или языковые файлы).
    - Статические ресурсы шаблона компонента (файлы CSS, JS, изображения).
4. **.parameters.php** — файл с описанием настроек для интерфейса администратора. Чем больше настроек, тем сложнее будет логика и, следовательно, код компонента. Необязательный файл, но без него контент-редактор не сможет никак повлиять на работу компонента.
5. lang-файлы компонента (файлы локализации или языковые файлы).
6. Статические ресурсы компонента (файлы CSS, JS, изображения).



>[!NOTE] 
>“Разместить компонент на странице” означает добавить вызов метода **$APPLICATION->includeComponent** с помощью визуального редактора или вручную через редактор кода. Лучше использовать визуальный редактор, так вы никогда не забудете ни один из аргументов.

### Устройство компонента

Код **$APPLICATION->includeComponent** вызывает метод **executeComponent** класса из файла **class.php** или подключает и выполняет файл **component.php**. Если компонент реализован по ООП-схеме, то файл **class.php** должен содержать объявление одного класса и этот класс должен быть наследником **CBitrixComponent**. Компонент может быть непрямым наследником базового класса.

Он должен переопределять метод executeComponent, обрабатывать параметры из **$this->arParams** и наполнять **$this->arResult** для передачи в шаблон сайта. При подключении шаблона сначала выполняется файл **result_modifier.php**, затем страница шаблона (для простых компонентов это **template.php**), затем **component_epilog.php**.

В файлах шаблона доступны переменные:

- **$arResult** — массив данных произвольной структуры, подготовленный компонентом.
- **$arParams** — массив параметров, заданных программистом или контент-редактором в веб-интерфейсе компонента при вызове.
- **$templateFolder** — путь к папке с шаблоном от корня сайта.
- **$component** — текущий компонент (объект **CBitrixComponent**).
- **$this** — текущий шаблон (объект **CBitrixComponentTemplate**).


### Компоненты, которые надо знать

Вот перечень полезных компонентов, с которыми вы точно столкнетесь в своих первых проектах:

|Название|Код|Назначение|
|---|---|---|
|Вставка включаемой области|bitrix:main.include|Подключает php-файл фиксированного названия из текущей папки. Если его нет в текущей папке — идет рекурсивно по папкам вплоть до корня сайта.<br><br>Можно настроить на 1 фиксированный файл, тогда поведение аналогично php-инструкции include.<br><br>В режиме редактирования позволяет править подключаемый файл.|
|Меню|bitrix:menu|Выводит пункты меню.<br><br>В режиме редактирования позволяет править пункты меню.|
|Постраничная навигация|bitrix:system.pagenavigation|Выводит панель с постраничной навигацией по списку записей/.)<br><br>Неявно подключается в составе большинства списочных компонентов (блоги, форумы, инфоблоки и т.д.)/|
|-|bitrix:system.show_message|Выводит сообщение об успехе или ошибке в дизайне сайта.<br><br>Неявно подключается в составе большинства компонентов с формами.|
|Настраиваемая регистрация|bitrix:main.register|Выводит форму регистрации пользователя.|
|-|bitrix:system.auth.authorize|Выводит форму авторизации пользователя.<br><br>Неявно подключается константой NEED_AUTH.|
|-|bitrix:system.auth.changepasswd|Выводит форму смены пароля.<br><br>Неявно подключается константой NEED_AUTH.|
|-|bitrix:system.auth.forgotpasswd|Выводит форму запроса ссылки для восстановления пароля.<br><br>Неявно подключается константой NEED_AUTH.|
|Форма авторизации|bitrix:system.auth.form|Выводит форму авторизации пользователя.|
|Авторизация|bitrix:main.auth.form|Выводит форму авторизации пользователя.|
|Стандартная страница поиска|bitrix:search.page|Выводит форму поиска и результаты поиска.|
|Поиск по заголовкам|bitrix:search.title|Выводит форму поиска и результаты быстрого поиска (обычно размещается в шапке сайта).|
|Форма обратной связи|bitrix:main.feedback|Выводит форму для запроса обратной связи от посетителей сайта.|

### Добавление через визуальный редактор

Открыть нужную страницу
Нажать изменить страницу
В редакторе нажать справа на полоску со стрелкой
Далее
- Шаблон - .default
- Показывать включаемую область - из файла
- Путь к файлу области - /include/name.php (Обычно включаемые области располагаются в корне в папке include)
Вырезать код
Разместить во всех нужных шаблонах
Открыть страницу
Включить режим правки
Кликнуть на иконку где должен отображаться компонент
Добавить область
Вставить нужный текст
Сохранить

---

> [!NOTE] Обновление компонентов
> После создания компонента в коде он не появится в визуальном редакторе. Нужно очистить кеш и в визуальном редакторе нажать Компоненты - Обновить