
```php
const NO_DEACTIVATE_NEWS_DAYS = 3;  
  
public static function stopDeactivateNews(array &$arFields)  
{  
    global $APPLICATION;  
  
    if (  
        $arFields['IBLOCK_ID'] == IBLOCK_NEWS_ID  
        && $arFields['ACTIVE'] == 'N'  
    ) {  
        $currentValues = ElementTable::getList([  
            'filter' => [  
                'ID' => $arFields['ID']  
            ],  
            'select' => ['ACTIVE', 'DATE_CREATE'],  
        ])->fetch();  
        if ($currentValues['ACTIVE'] == 'Y') {  
            $createdDate = $currentValues['DATE_CREATE'];  
            $currentDate = new DateTime();  
            $diffDateTime = $currentDate->getDiff($createdDate);  
            if ($diffDateTime->d < static::NO_DEACTIVATE_NEWS_DAYS) {  
                $APPLICATION->ThrowException(  
                    Loc::getMessage('MY_COMPANY_CUSTOM_NO_DEACTIVATE_NEWS_DAYS',  
                        [  
                            '#NO_DEACTIVATE_NEWS_DAYS#' => static::NO_DEACTIVATE_NEWS_DAYS,  
                            '#DAYS_LEFT#' => $diffDateTime->d  
                        ])  
                );  
                return false;            }  
        }    }}
```

[[Исключения]]