Блокирует запись на изменение для другой транзакции - SELECT ... FOR UPDATE

Блокируются следующие запросы:
- `UPDATE`
- `DELETE`
- `SELECT ... FOR UPDATE`
- `SELECT ... LOCK IN SHARE MODE`

```php
Model::query()->lockForUpdate()->get();
```

если 2 транзакции прочитали одинаковые данные и записали их, то результат будет верный. Но одна из транзакций должна была выбросить исключение, о том что данные уже не верны. Например мы получили баланс 100, отняли 100 и хотим записать 0. Другая транзакция делает то же самое. В результате в бд, будет 0. Но вторая транзакция должна ждать пока первая завершится, получить 0 и выкинуть исключение что баланс 0 и действий со счетом совершать нельзя

[[sharedLock]]