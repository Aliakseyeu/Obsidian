Если во время запуска теста с дебагом появляется сообщение что не получилось подключиться к xDebug и в строке подключения указан **-dxdebug.client_host=172.17.0.1** вместо **-dxdebug.client_host=host.docker.internal** нужно сделать следующие шаги

- Settings - PHP - CLI Interpreter - Configuration options - Указать нужный xdebug.client_host
- Settings - PHP - Test frameworks - переключить с phpunit.phar на Composer autoloader
- Возможно настроить [[Прокси]]
- Возможно [[Отключение появления локальной конфигурации]]

---

В свул контейнере добавил
-dxdebug.mode=debug -dxdebug.client_host=host.docker.internal -dxdebug.client_port=9003 -dxdebug.start_with_request=yes